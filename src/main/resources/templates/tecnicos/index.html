<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Perú - Lista de Técnicos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>
<body class="bg-light">
<div class="container-fluid py-4">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card shadow-sm mt-5 mb-5 rounded-4">
                <div class="card-body p-4 shadow-lg rounded-4">
                    <!-- Título -->
                    <div class="row">
                        <div class="col-12 text-center mb-4">
                            <h1 class="h2 fw-bold text-dark fs-1">Lista de Técnicos Registrados</h1>
                        </div>
                    </div>

                    <!-- Botón Crear Nuevo Técnico -->
                    <div class="row">
                        <div class="col-12 text-center mb-4">
                            <a href="/tecnicos/create" class="btn btn-primary btn-lg px-4 py-2">Registrar Nuevo
                                Técnico</a>
                        </div>
                    </div>

                    <!-- Alerta Success Save -->
                    <div class="row">
                        <div class="col-12 mb-3">
                            <div th:if="${successSave}" class="alert alert-success alert-dismissible fade show mt-3"
                                 role="alert">
                                <span th:text="${successSave}"></span>
                                <!--<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>-->
                            </div>
                        </div>
                    </div>

                    <!-- Alerta Success Delete -->
                    <div class="row">
                        <div class="col-12 mb-3">
                            <div th:if="${successDel}" class="alert alert-success alert-dismissible fade show mt-3"
                                 role="alert">
                                <span th:text="${successDel}"></span>
                                <!--<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>-->
                            </div>
                        </div>
                    </div>

                    <!-- Alerta Error Delete -->
                    <div class="row">
                        <div class="col-12 mb-3">
                            <div th:if="${errorDel}" class="alert alert-danger alert-dismissible fade show mt-3"
                                 role="alert">
                                <span th:text="${errorDel}"></span>
                                <!--<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>-->
                            </div>
                        </div>
                    </div>

                    <!-- Tabla -->
                    <div class="row">
                        <div class="col-12">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover table-bordered bg-white">
                                    <thead class="table-primary">
                                    <tr class="text-nowrap text-center">
                                        <th scope="col" class="fw-bold">ID</th>
                                        <th scope="col" class="fw-bold">Nombre Completo</th>
                                        <th scope="col" class="fw-bold">DNI</th>
                                        <th scope="col" class="fw-bold">Celular</th>
                                        <th scope="col" class="fw-bold">Correo Electrónico</th>
                                        <th scope="col" class="fw-bold">Especialidad</th>
                                        <th scope="col" class="fw-bold">Fecha de Registro</th>
                                        <th scope="col" class="fw-bold">Editar</th>
                                        <th scope="col" class="fw-bold">Eliminar</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="tecnico : ${tecnicos}">
                                        <td class="fw-semibold text-center" th:text="${tecnico.idTecnico}"></td>
                                        <td th:text="${tecnico.nombreCompleto}"></td>
                                        <td th:text="${tecnico.dni}"></td>
                                        <td th:text="${tecnico.celular}"></td>
                                        <td th:text="${tecnico.correoElectronico}"></td>
                                        <td th:text="${tecnico.especialidad}"></td>
                                        <td class="text-center" th:text="${tecnico.fechaRegistro}"></td>
                                        <td class="text-center">
                                            <a th:href="@{/tecnicos/edit/{id}(id=${tecnico.idTecnico})}"
                                               class="btn btn-secondary btn-sm">Editar</a>
                                        </td>
                                        <td class="text-center">
                                            <a th:href="@{/tecnicos/delete/{id}(id=${tecnico.idTecnico})}"
                                               class="btn btn-danger btn-sm"
                                               onclick="return confirm('¿Estás seguro de que deseas eliminar este técnico?')">
                                                Eliminar</a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>